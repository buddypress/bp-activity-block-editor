!function(){"use strict";var t,e={701:function(){const{template:t}=lodash;const e=(t,e)=>{const i=(new DOMParser).parseFromString(t,"text/html");return e?i.documentElement.textContent:i.body.firstChild},{domReady:i,url:{getPath:n}}=wp,r=window.bpActivityWallSettings||{};window.bp=window.bp||{},window.bp.Activity=new class{constructor(t){const{path:e,root:i,nonce:r,preloadedActivity:o,preloadedMember:s,currentActivity:a}=t;this.endpoint=n(i.replace("/wp-json","")+e),this.root=i,this.nonce=r,this.activities="body"in o?o.body:[],this.member="body"in s?s.body:{},this.currentActivity=a,this.container=document.querySelector("#bp-activity-wall-items")}renderItem(e){const i=(n="bp-activity-entry",t(document.querySelector("#tmpl-"+n).innerHTML,{evaluate:/<#([\s\S]+?)#>/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g,variable:"data"}));var n;let r=[e.component,e.type];return!(!1 in e.content)&&e.content.rendered||r.push("mini"),"comment_count"in e&&e.comment_count&&r.push("has-comments"),e.activity_class=r.join(" "),e.id_attribute="activity_comment"===e.type?"activity-comment":"activity",i(e)}loop(t){t.forEach((t=>{t.author_link=t._embedded.user[0].link,this.container.innerHTML+=this.renderItem(t)}))}addItem(t){const i=t.data&&t.data.message&&"postedBPActivity"===t.data.message?t.data:null;i&&!this.activities.find((t=>t.id===i.id))&&(delete i.message,"activity_comment"===i.type?(this.activities.push(i),this.container.append(e(this.renderItem(i)))):(this.activities.unshift(i),this.container.prepend(e(this.renderItem(i)))))}setUpListeners(){window.addEventListener("message",this.addItem.bind(this),!1)}start(){this.activities&&0!==this.activities.length&&this.loop(this.activities),this.setUpListeners()}}(r),i((()=>window.bp.Activity.start()))}},i={};function n(t){var r=i[t];if(void 0!==r)return r.exports;var o=i[t]={exports:{}};return e[t](o,o.exports,n),o.exports}n.m=e,t=[],n.O=function(e,i,r,o){if(!i){var s=1/0;for(p=0;p<t.length;p++){i=t[p][0],r=t[p][1],o=t[p][2];for(var a=!0,c=0;c<i.length;c++)(!1&o||s>=o)&&Object.keys(n.O).every((function(t){return n.O[t](i[c])}))?i.splice(c--,1):(a=!1,o<s&&(s=o));if(a){t.splice(p--,1);var d=r();void 0!==d&&(e=d)}}return e}o=o||0;for(var p=t.length;p>0&&t[p-1][2]>o;p--)t[p]=t[p-1];t[p]=[i,r,o]},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={826:0,431:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var r,o,s=i[0],a=i[1],c=i[2],d=0;if(s.some((function(e){return 0!==t[e]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(c)var p=c(n)}for(e&&e(i);d<s.length;d++)o=s[d],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(p)},i=self.webpackChunkbp_activity_block_editor=self.webpackChunkbp_activity_block_editor||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var r=n.O(void 0,[431],(function(){return n(701)}));r=n.O(r)}();