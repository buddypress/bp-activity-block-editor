(()=>{"use strict";var t,e={701:()=>{const{template:t}=lodash,e=(t,e)=>{const i=(new DOMParser).parseFromString(t,"text/html");return e?i.documentElement.textContent:i.body.firstChild},{domReady:i,url:{getPath:n}}=wp,r=window.bpActivityWallSettings||{};window.bp=window.bp||{},window.bp.Activity=new class{constructor(t){const{path:e,root:i,nonce:r,preloadedActivity:s,preloadedMember:o,currentActivity:a}=t;this.endpoint=n(i.replace("/wp-json","")+e),this.root=i,this.nonce=r,this.activities="body"in s?s.body:[],this.member="body"in o?o.body:{},this.currentActivity=a,this.container=document.querySelector("#bp-activity-wall-items")}renderItem(e){const i=(n="bp-activity-entry",t(document.querySelector("#tmpl-"+n).innerHTML,{evaluate:/<#([\s\S]+?)#>/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g,variable:"data"}));var n;let r=[e.component,e.type];return!(!1 in e.content)&&e.content.rendered||r.push("mini"),"comment_count"in e&&e.comment_count&&r.push("has-comments"),e.activity_class=r.join(" "),e.id_attribute="activity_comment"===e.type?"activity-comment":"activity",i(e)}loop(t){t.forEach((t=>{t.author_link=t._embedded.user[0].link,this.container.innerHTML+=this.renderItem(t)}))}addItem(t){const i=t.data&&t.data.message&&"postedBPActivity"===t.data.message?t.data:null;i&&!this.activities.find((t=>t.id===i.id))&&(delete i.message,"activity_comment"===i.type?(this.activities.push(i),this.container.append(e(this.renderItem(i)))):(this.activities.unshift(i),this.container.prepend(e(this.renderItem(i)))))}setUpListeners(){window.addEventListener("message",this.addItem.bind(this),!1)}start(){this.activities&&0!==this.activities.length&&this.loop(this.activities),this.currentActivity&&(document.querySelector("#bp-activity-view").innerHTML=this.renderItem(this.currentActivity)),this.setUpListeners()}}(r),i((()=>window.bp.Activity.start()))}},i={};function n(t){var r=i[t];if(void 0!==r)return r.exports;var s=i[t]={exports:{}};return e[t](s,s.exports,n),s.exports}n.m=e,t=[],n.O=(e,i,r,s)=>{if(!i){var o=1/0;for(h=0;h<t.length;h++){for(var[i,r,s]=t[h],a=!0,c=0;c<i.length;c++)(!1&s||o>=s)&&Object.keys(n.O).every((t=>n.O[t](i[c])))?i.splice(c--,1):(a=!1,s<o&&(o=s));if(a){t.splice(h--,1);var d=r();void 0!==d&&(e=d)}}return e}s=s||0;for(var h=t.length;h>0&&t[h-1][2]>s;h--)t[h]=t[h-1];t[h]=[i,r,s]},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={826:0,431:0};n.O.j=e=>0===t[e];var e=(e,i)=>{var r,s,[o,a,c]=i,d=0;if(o.some((e=>0!==t[e]))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(c)var h=c(n)}for(e&&e(i);d<o.length;d++)s=o[d],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(h)},i=globalThis.webpackChunkbp_activity_block_editor=globalThis.webpackChunkbp_activity_block_editor||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var r=n.O(void 0,[431],(()=>n(701)));r=n.O(r)})();